{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/icon/menu.svg","components/headers/icon/close.svg","components/headers/icon/cart.svg","components/headers/Header.js","components/mainpages/utils/productItem/BtnRender.js","components/mainpages/utils/productItem/ProductItem.js","components/mainpages/utils/loading/Loading.js","components/mainpages/products/Filters.js","components/mainpages/products/LoadMore.js","components/mainpages/products/Products.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/history/OrderHistory.js","components/mainpages/history/OrderDetails.js","components/mainpages/cart/PaypalButton.js","components/mainpages/cart/Cart.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/categories/Categories.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/Pages.js","App.js","index.js"],"names":["ProductsAPI","useState","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","a","axios","get","res","data","getProducts","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","history","setHistory","headers","Authorization","role","alert","response","msg","getUser","addCart","product","every","item","_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accesstoken","setTimeout","state","productsAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","logoutUser","removeItem","window","location","href","styleMenu","left","className","onClick","src","Menu","alt","width","to","style","Close","length","Cart","BtnRender","deleteProduct","id","images","public_id","ProductItem","handleCheck","type","checked","onChange","url","title","price","description","Loading","class","Filters","name","e","target","map","placeholder","toLowerCase","LoadMore","border","borderRadius","padding","marginBottom","background","fontSize","color","Products","loading","setLoading","isCheck","setIsCheck","forEach","destroyImg","post","delete","DetailProduct","params","useParams","detailProduct","setDetailProduct","product_id","Login","email","password","user","setUser","onChangeInput","loginSubmit","preventDefault","setItem","onSubmit","required","autoComplete","Register","registerSubmit","OrderHistory","getHistory","items","paymentID","Date","createdAt","toLocaleDateString","OrderDetails","orderDetails","setOrderDetails","address","recipient_name","line1","city","postal_code","country_code","margin","PaypalButton","total","this","props","env","client","sandbox","production","currency","onError","err","console","log","onSuccess","payment","tranSuccess","onCancel","size","shape","label","tagline","React","Component","setTotal","reduce","prev","getTotal","addToCart","textAlign","content","confirm","index","splice","rel","NotFound","Categories","onEdit","setOnEdit","setID","createCategory","put","editCategory","deleteCategory","htmlFor","initialState","CreateProduct","setProduct","setImages","useHistory","param","handleUpload","file","files","formData","FormData","append","handleDestroy","handleChangeInput","handleSubmit","push","styleUpload","display","disabled","rows","Pages","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ab6bf38.chunk.js","sourcesContent":["import {useState, useEffect} from 'react'\nimport axios from 'axios'\n\n\nfunction ProductsAPI() {\n    const [products, setProducts] = useState([])\n    const [callback, setCallback] = useState(false)\n    const [category, setCategory] = useState('')\n    const [sort, setSort] = useState('')\n    const [search, setSearch] = useState('')\n    const [page, setPage] = useState(1)\n    const [result, setResult] = useState(0)\n\n    useEffect(() =>{\n        const getProducts = async () => {\n            const res = await axios.get(`/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`)\n            setProducts(res.data.products)\n            setResult(res.data.result)\n        }\n        getProducts()\n    },[callback, category, sort, search, page])\n    \n    return {\n        products: [products, setProducts],\n        callback: [callback, setCallback],\n        category: [category, setCategory],\n        sort: [sort, setSort],\n        search: [search, setSearch],\n        page: [page, setPage],\n        result: [result, setResult]\n    }\n}\n\nexport default ProductsAPI\n","import {useState, useEffect} from 'react'\nimport axios from 'axios'\n\nfunction UserAPI(token) {\n    const [isLogged, setIsLogged] = useState(false)\n    const [isAdmin, setIsAdmin] = useState(false)\n    const [cart, setCart] = useState([])\n    const [history, setHistory] = useState([])\n\n    useEffect(() =>{\n        if(token){\n            const getUser = async () =>{\n                try {\n                    const res = await axios.get('/user/infor', {\n                        headers: {Authorization: token}\n                    })\n\n                    setIsLogged(true)\n                    res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\n\n                    setCart(res.data.cart)\n\n                } catch (err) {\n                    alert(err.response.data.msg)\n                }\n            }\n\n            getUser()\n            \n        }\n    },[token])\n\n    \n\n    const addCart = async (product) => {\n        if(!isLogged) return alert(\"Please login to continue buying\")\n\n        const check = cart.every(item =>{\n            return item._id !== product._id\n        })\n\n        if(check){\n            setCart([...cart, {...product, quantity: 1}])\n\n            await axios.patch('/user/addcart', {cart: [...cart, {...product, quantity: 1}]}, {\n                headers: {Authorization: token}\n            })\n\n        }else{\n            alert(\"This product has been added to cart.\")\n        }\n    }\n\n    return {\n        isLogged: [isLogged, setIsLogged],\n        isAdmin: [isAdmin, setIsAdmin],\n        cart: [cart, setCart],\n        addCart: addCart,\n        history: [history, setHistory]\n    }\n}\n\nexport default UserAPI\n ","import {useState, useEffect} from 'react'\nimport axios from 'axios'\n\nfunction CategoriesAPI() {\n    const [categories, setCategories] = useState([])\n    const [callback, setCallback] = useState(false)\n\n    useEffect(() =>{\n        const getCategories = async () =>{\n            const res = await axios.get('/api/category')\n            setCategories(res.data)\n        }\n\n        getCategories()\n    },[callback])\n    return {\n        categories: [categories, setCategories],\n        callback: [callback, setCallback]\n    }\n}\n\nexport default CategoriesAPI\n","import React, {createContext, useState, useEffect} from 'react'\nimport ProductsAPI from './api/ProductsAPI'\nimport UserAPI from './api/UserAPI'\nimport CategoriesAPI from './api/CategoriesAPI'\n\nimport axios from 'axios'\n\nexport const GlobalState = createContext()\n\n\nexport const DataProvider = ({children}) =>{\n    const [token, setToken] = useState(false)\n\n\n    useEffect(() =>{\n        const firstLogin = localStorage.getItem('firstLogin')\n        if(firstLogin){\n            const refreshToken = async () =>{\n                const res = await axios.get('/user/refresh_token')\n        \n                setToken(res.data.accesstoken)\n    \n                setTimeout(() => {\n                    refreshToken()\n                }, 10 * 60 * 1000)\n            }\n            refreshToken()\n        }\n    },[])\n\n\n    \n    const state = {\n        token: [token, setToken],\n        productsAPI: ProductsAPI(),\n        userAPI: UserAPI(token),\n        categoriesAPI: CategoriesAPI()\n    }\n\n    return (\n        <GlobalState.Provider value={state}>\n            {children}\n        </GlobalState.Provider>\n    )\n}","export default __webpack_public_path__ + \"static/media/menu.e8db7520.svg\";","export default __webpack_public_path__ + \"static/media/close.ea7c95d7.svg\";","export default __webpack_public_path__ + \"static/media/cart.d146d6c3.svg\";","import React, { useContext, useState } from 'react'\nimport { GlobalState } from '../../GlobalState'\nimport Menu from './icon/menu.svg'\nimport Close from './icon/close.svg'\nimport Cart from './icon/cart.svg'\nimport { Link } from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Header() {\n  const state = useContext(GlobalState)\n  const [isLogged] = state.userAPI.isLogged\n  const [isAdmin] = state.userAPI.isAdmin\n  const [cart] = state.userAPI.cart\n  const [menu, setMenu] = useState(false)\n\n  const logoutUser = async () => {\n    await axios.get('/user/logout')\n\n    localStorage.removeItem('firstLogin')\n\n    window.location.href = '/'\n  }\n\n  const adminRouter = () => {\n    return (\n      <>\n        <li>\n          <Link to='/create_product'>Create Product</Link>\n        </li>\n        <li>\n          <Link to='/category'>Categories</Link>\n        </li>\n      </>\n    )\n  }\n\n  const loggedRouter = () => {\n    return (\n      <>\n        <li>\n          <Link to='/history'>History</Link>\n        </li>\n        <li>\n          <Link to='/' onClick={logoutUser}>\n            Logout\n          </Link>\n        </li>\n      </>\n    )\n  }\n\n  const styleMenu = {\n    left: menu ? 0 : '-100%',\n  }\n\n  return (\n    <>\n      <header>\n        <div className='menu' onClick={() => setMenu(!menu)}>\n          <img src={Menu} alt='' width='30' />\n        </div>\n\n        <div className='logo'>\n          <h1>\n            <Link to='/'>{isAdmin ? 'Admin' : 'EasyToBuy'}</Link>\n          </h1>\n        </div>\n\n        <ul style={styleMenu}>\n          <li>\n            <Link to='/'>{isAdmin ? 'Products' : 'Shop'}</Link>\n          </li>\n\n          {isAdmin && adminRouter()}\n\n          {isLogged ? (\n            loggedRouter()\n          ) : (\n            <li>\n              <Link to='/login'>Login / Register</Link>\n            </li>\n          )}\n\n          <li onClick={() => setMenu(!menu)}>\n            <img src={Close} alt='' width='30' className='menu' />\n          </li>\n        </ul>\n\n        {isAdmin ? (\n          ''\n        ) : (\n          <div className='cart-icon'>\n            <span>{cart.length}</span>\n            <Link to='/cart'>\n              <img src={Cart} alt='' width='30' />\n            </Link>\n          </div>\n        )}\n      </header>\n    </>\n  )\n}\n\nexport default Header\n","import React, {useContext} from 'react'\nimport {Link} from 'react-router-dom'\nimport {GlobalState} from '../../../../GlobalState'\n\nfunction BtnRender({product, deleteProduct}) {\n    const state = useContext(GlobalState)\n    const [isAdmin] = state.userAPI.isAdmin\n    const addCart = state.userAPI.addCart\n\n    \n    return (\n        <div className=\"row_btn\">\n            {\n                isAdmin ? \n                <>\n                    <Link id=\"btn_buy\" to=\"#!\" \n                    onClick={() =>deleteProduct(product._id, product.images.public_id)}>\n                        Delete\n                    </Link>\n                    <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>\n                        Edit\n                    </Link>\n                </>\n                : <>\n                    <Link id=\"btn_buy\" to=\"#!\" onClick={() => addCart(product)}>\n                        Buy\n                    </Link>\n                    <Link id=\"btn_view\" to={`/detail/${product._id}`}>\n                        View\n                    </Link>\n                </>\n            }\n                \n        </div>\n    )\n}\n\nexport default BtnRender\n","import React from 'react'\nimport BtnRender from './BtnRender'\n\nfunction ProductItem({product, isAdmin, deleteProduct, handleCheck}) {\n\n    return (\n        <div className=\"product_card\">\n            {\n                isAdmin && <input type=\"checkbox\" checked={product.checked}\n                onChange={() => handleCheck(product._id)} />\n            }\n            <img src={product.images.url} alt=\"\" />\n\n            <div className=\"product_box\">\n                <h3 title={product.title}>{product.title}</h3>\n                <span>₹{product.price}</span>\n                <p>{product.description}</p>\n            </div>\n\n            \n            <BtnRender product={product} deleteProduct={deleteProduct} />\n        </div>\n    )\n}\n\nexport default ProductItem\n","import React from 'react'\nimport './loading.css'\n\nfunction Loading() {\n    return (\n        <div class=\"spinner\">\n        <div class=\"inner one\"></div>\n        <div class=\"inner two\"></div>\n        <div class=\"inner three\"></div>\n      </div>\n    )\n}\n\nexport default Loading\n","import React, {useContext} from 'react'\nimport {GlobalState} from '../../../GlobalState'\n\nfunction Filters() {\n    const state = useContext(GlobalState)\n    const [categories] = state.categoriesAPI.categories\n\n    const [category, setCategory] = state.productsAPI.category\n    const [sort, setSort] = state.productsAPI.sort\n    const [search, setSearch] = state.productsAPI.search\n\n\n    const handleCategory = e => {\n        setCategory(e.target.value)\n        setSearch('')\n    }\n\n    return (\n        <div className=\"filter_menu\">\n            <div className=\"row\">\n                <span>Filters: </span>\n                <select name=\"category\" value={category} onChange={handleCategory} >\n                    <option value=''>All Products</option>\n                    {\n                        categories.map(category => (\n                            <option value={\"category=\" + category._id} key={category._id}>\n                                {category.name}\n                            </option>\n                        ))\n                    }\n                </select>\n            </div>\n\n            <input type=\"text\" value={search} placeholder=\"Enter your search!\"\n            onChange={e => setSearch(e.target.value.toLowerCase())} />\n\n            <div className=\"row sort\">\n                <span>Sort By: </span>\n                <select value={sort} onChange={e => setSort(e.target.value)} >\n                    <option value=''>Newest</option>\n                    <option value='sort=oldest'>Oldest</option>\n                    <option value='sort=-sold'>Best sales</option>\n                    <option value='sort=-price'>Price: Hight-Low</option>\n                    <option value='sort=price'>Price: Low-High</option>\n                </select>\n            </div>\n        </div>\n    )\n}\n\nexport default Filters\n","import React, { useContext } from 'react'\nimport { GlobalState } from '../../../GlobalState'\n\nfunction LoadMore() {\n  const state = useContext(GlobalState)\n  const [page, setPage] = state.productsAPI.page\n  const [result] = state.productsAPI.result\n\n  return (\n    <div className='load_more'>\n      {result < page * 9 ? (\n        ''\n      ) : (\n        <button\n          onClick={() => setPage(page + 1)}\n          style={{\n            border: '1px solid blue',\n            borderRadius: '15px',\n            padding: '5px 25px',\n            marginBottom: '20px',\n            background: 'rgb(3, 165, 206)',\n            fontSize: '16px',\n            color: 'white',\n          }}\n        >\n          Load More\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default LoadMore\n","import React, {useContext, useState} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport ProductItem from '../utils/productItem/ProductItem'\nimport Loading from '../utils/loading/Loading'\nimport axios from 'axios'\nimport Filters from './Filters'\nimport LoadMore from './LoadMore'\n\n\nfunction Products() {\n    const state = useContext(GlobalState)\n    const [products, setProducts] = state.productsAPI.products\n    const [isAdmin] = state.userAPI.isAdmin\n    const [token] = state.token\n    const [callback, setCallback] = state.productsAPI.callback\n    const [loading, setLoading] = useState(false)\n    const [isCheck, setIsCheck] = useState(false)\n\n    const handleCheck = (id) =>{\n        products.forEach(product => {\n            if(product._id === id) product.checked = !product.checked\n        })\n        setProducts([...products])\n    }\n\n    const deleteProduct = async(id, public_id) => {\n        try {\n            setLoading(true)\n            const destroyImg = axios.post('/api/destroy', {public_id},{\n                headers: {Authorization: token}\n            })\n            const deleteProduct = axios.delete(`/api/products/${id}`, {\n                headers: {Authorization: token}\n            })\n\n            await destroyImg\n            await deleteProduct\n            setCallback(!callback)\n            setLoading(false)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const checkAll = () =>{\n        products.forEach(product => {\n            product.checked = !isCheck\n        })\n        setProducts([...products])\n        setIsCheck(!isCheck)\n    }\n\n    const deleteAll = () =>{\n        products.forEach(product => {\n            if(product.checked) deleteProduct(product._id, product.images.public_id)\n        })\n    }\n\n    if(loading) return <div><Loading /></div>\n    return (\n        <>\n        <Filters />\n        \n        {\n            isAdmin && \n            <div className=\"delete-all\">\n                <span>Select all</span>\n                <input type=\"checkbox\" checked={isCheck} onChange={checkAll} />\n                <button onClick={deleteAll}>Delete ALL</button>\n            </div>\n        }\n\n        <div className=\"products\">\n            {\n                products.map(product => {\n                    return <ProductItem key={product._id} product={product}\n                    isAdmin={isAdmin} deleteProduct={deleteProduct} handleCheck={handleCheck} />\n                })\n            } \n        </div>\n\n        <LoadMore />\n        {products.length === 0 && <Loading />}\n        </>\n    )\n}\n\nexport default Products\n","import React, { useContext, useState, useEffect } from 'react'\nimport { useParams, Link } from 'react-router-dom'\nimport { GlobalState } from '../../../GlobalState'\nimport ProductItem from '../utils/productItem/ProductItem'\n\nfunction DetailProduct() {\n  const params = useParams()\n  const state = useContext(GlobalState)\n  const [products] = state.productsAPI.products\n  const addCart = state.userAPI.addCart\n  const [detailProduct, setDetailProduct] = useState([])\n\n  useEffect(() => {\n    if (params.id) {\n      products.forEach((product) => {\n        if (product._id === params.id) setDetailProduct(product)\n      })\n    }\n  }, [params.id, products])\n\n  if (detailProduct.length === 0) return null\n\n  return (\n    <>\n      <div className='detail'>\n        <img src={detailProduct.images.url} alt='' />\n        <div className='box-detail'>\n          <div className='row'>\n            <h3>{detailProduct.title}</h3>\n            <h6>#id: {detailProduct.product_id}</h6>\n          </div>\n          <span>₹{detailProduct.price}</span>\n          <p>\n            <span>Description:</span> {detailProduct.description}\n          </p>\n          <Link\n            to='/cart'\n            className='cart'\n            onClick={() => addCart(detailProduct)}\n          >\n            Buy Now\n          </Link>\n        </div>\n      </div>\n\n      <div>\n        <h2 className='Related'>Related products in this cetagory</h2>\n        <div className='products'>\n          {products.map((product) => {\n            return product.category === detailProduct.category ? (\n              <ProductItem key={product._id} product={product} />\n            ) : null\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default DetailProduct\n","import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Login() {\n    const [user, setUser] = useState({\n        email:'', password: ''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const loginSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/login', {...user})\n\n            localStorage.setItem('firstLogin', true)\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={loginSubmit}>\n                <h2>Login</h2>\n                <input type=\"email\" name=\"email\" required\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Login</button>\n                    <Link to=\"/register\">Register</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n","import React, {useState} from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction Register() {\n    const [user, setUser] = useState({\n        name:'', email:'', password: ''\n    })\n\n    const onChangeInput = e =>{\n        const {name, value} = e.target;\n        setUser({...user, [name]:value})\n    }\n\n    const registerSubmit = async e =>{\n        e.preventDefault()\n        try {\n            await axios.post('/user/register', {...user})\n\n            localStorage.setItem('firstLogin', true)\n\n            \n            window.location.href = \"/\";\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <form onSubmit={registerSubmit}>\n                <h2>Register</h2>\n                <input type=\"text\" name=\"name\" required\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\n\n                <input type=\"email\" name=\"email\" required\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\n\n                <div className=\"row\">\n                    <button type=\"submit\">Register</button>\n                    <Link to=\"/login\">Login</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register","import React, {useContext, useEffect} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nfunction OrderHistory() {\n    const state = useContext(GlobalState)\n    const [history, setHistory] = state.userAPI.history\n    const [isAdmin] = state.userAPI.isAdmin\n    const [token] = state.token\n    \n\n    useEffect(() => {\n        if(token){\n            const getHistory = async() =>{\n                if(isAdmin){\n                    const res = await axios.get('/api/payment', {\n                        headers: {Authorization: token}\n                    })\n                    setHistory(res.data)\n                }else{\n                    const res = await axios.get('/user/history', {\n                        headers: {Authorization: token}\n                    })\n                    setHistory(res.data)\n                }\n            }\n            getHistory()\n        }\n    },[token, isAdmin, setHistory])\n\n    return (\n        <div className=\"history-page\">\n            <h2>History</h2>\n\n            <h4>You have {history.length} ordered</h4>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Payment ID</th>\n                        <th>Date of Purchased</th>\n                        <th></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        history.map(items => (\n                            <tr key={items._id}>\n                                <td>{items.paymentID}</td>\n                                <td>{new Date(items.createdAt).toLocaleDateString()}</td>\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\n                            </tr>\n                        ))\n                    }\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default OrderHistory\n","import React, {useState, useEffect, useContext} from 'react'\nimport {useParams} from 'react-router-dom'\nimport {GlobalState} from '../../../GlobalState'\n\nfunction OrderDetails() {\n    const state = useContext(GlobalState)\n    const [history] = state.userAPI.history\n    const [orderDetails, setOrderDetails] = useState([])\n\n    const params = useParams()\n\n    useEffect(() => {\n        if(params.id){\n            history.forEach(item =>{\n                if(item._id === params.id) setOrderDetails(item)\n            })\n        }\n    },[params.id, history])\n\n\n    if(orderDetails.length === 0) return null;\n\n    return (\n        <div className=\"history-page\">\n            <table>\n                <thead>\n                    <tr>\n                        <th>Name</th>\n                        <th>Address</th>\n                        <th>Postal Code</th>\n                        <th>Country Code</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>{orderDetails.address.recipient_name}</td>\n                        <td>{orderDetails.address.line1 + \" - \" + orderDetails.address.city}</td>\n                        <td>{orderDetails.address.postal_code}</td>\n                        <td>{orderDetails.address.country_code}</td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <table style={{margin: \"30px 0px\"}}>\n                <thead>\n                    <tr>\n                        <th></th>\n                        <th>Products</th>\n                        <th>Quantity</th>\n                        <th>Price</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n                        orderDetails.cart.map(item =>(\n                        <tr key={item._id}>\n                            <td><img src={item.images.url} alt=\"\" /></td>\n                            <td>{item.title}</td>\n                            <td>{item.quantity}</td>\n                            <td>$ {item.price * item.quantity}</td>\n                        </tr>\n                        ))\n                    }\n                    \n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default OrderDetails\n","import React from 'react';\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\n \nexport default class PaypalButton extends React.Component {\n    render() {\n        const onSuccess = (payment) => {\n            // Congratulation, it came here means everything's fine!\n            \t\tconsole.log(\"The payment was succeeded!\", payment);\n                    // You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\n                    this.props.tranSuccess(payment) \n        }\n \n        const onCancel = (data) => {\n            // User pressed \"cancel\" or close Paypal's popup!\n            console.log('The payment was cancelled!', data);\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\n        }\n \n        const onError = (err) => {\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\n            console.log(\"Error!\", err);\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\n        }\n \n        let env = 'sandbox'; // you can set here to 'production' for production\n        let currency = 'INR'; // or you can set this value from your props or state\n        let total = this.props.total; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\n \n        const client = {\n            sandbox:    'AWkO66TRALmVGXk1hwUY4CEfufr9f1XQSgTbtpmY6z1xmHrpxM-DVIUQzRfxkkIklCao6OoMhdx0y7vi',\n            production: 'YOUR-PRODUCTION-APP-ID',\n        }\n        // In order to get production's app-ID, you will have to send your app to Paypal for approval first\n        // For sandbox app-ID (after logging into your developer account, please locate the \"REST API apps\" section, click \"Create App\"):\n        //   => https://developer.paypal.com/docs/classic/lifecycle/sb_credentials/\n        // For production app-ID:\n        //   => https://developer.paypal.com/docs/classic/lifecycle/goingLive/\n \n        // NB. You can also have many Paypal express checkout buttons on page, just pass in the correct amount and they will work!\n        let style = {\n            size: 'small',\n            color: 'blue',\n            shape: 'rect',\n            label: 'checkout',\n            tagline: false\n        }\n\n        return (\n            <PaypalExpressBtn \n            env={env} client={client} \n            currency={currency} \n            total={total} onError={onError} \n            onSuccess={onSuccess} onCancel={onCancel}\n            style={style}/>\n        );\n    }\n}","import React, { useContext, useState, useEffect } from 'react'\nimport { GlobalState } from '../../../GlobalState'\nimport axios from 'axios'\nimport PaypalButton from './PaypalButton'\n\nfunction Cart() {\n  const state = useContext(GlobalState)\n  const [cart, setCart] = state.userAPI.cart\n  const [token] = state.token\n  const [total, setTotal] = useState(0)\n\n  useEffect(() => {\n    const getTotal = () => {\n      const total = cart.reduce((prev, item) => {\n        return prev + item.price * item.quantity\n      }, 0)\n\n      setTotal(total)\n    }\n\n    getTotal()\n  }, [cart])\n\n  const addToCart = async (cart) => {\n    await axios.patch(\n      '/user/addcart',\n      { cart },\n      {\n        headers: { Authorization: token },\n      }\n    )\n  }\n\n  const increment = (id) => {\n    cart.forEach((item) => {\n      if (item._id === id) {\n        item.quantity += 1\n      }\n    })\n\n    setCart([...cart])\n    addToCart(cart)\n  }\n\n  const decrement = (id) => {\n    cart.forEach((item) => {\n      if (item._id === id) {\n        item.quantity === 1 ? (item.quantity = 1) : (item.quantity -= 1)\n      }\n    })\n\n    setCart([...cart])\n    addToCart(cart)\n  }\n\n  const removeProduct = (id) => {\n    if (window.confirm('Do you want to delete this product?')) {\n      cart.forEach((item, index) => {\n        if (item._id === id) {\n          cart.splice(index, 1)\n        }\n      })\n\n      setCart([...cart])\n      addToCart(cart)\n    }\n  }\n\n  const tranSuccess = async (payment) => {\n    const { paymentID, address } = payment\n\n    await axios.post(\n      '/api/payment',\n      { cart, paymentID, address },\n      {\n        headers: { Authorization: token },\n      }\n    )\n\n    setCart([])\n    addToCart([])\n    alert('You have successfully placed an order.')\n  }\n\n  if (cart.length === 0)\n    return <h2 style={{ textAlign: 'center', fontSize: '5rem' }}>Cart Empty</h2>\n\n  return (\n    <div>\n      {cart.map((product) => (\n        <div className='detail cart' key={product._id}>\n          <img className='cart-image' src={product.images.url} alt='' />\n\n          <div className='box-detail'>\n            <h3>{product.title}</h3>\n\n            <h3>₹ {product.price * product.quantity}</h3>\n            <p>{product.description}</p>\n            <p>{product.content}</p>\n\n            <div className='amount'>\n              <button onClick={() => decrement(product._id)}> - </button>\n              <span>{product.quantity}</span>\n              <button onClick={() => increment(product._id)}> + </button>\n            </div>\n\n            <div className='delete' onClick={() => removeProduct(product._id)}>\n              <link\n                rel='stylesheet'\n                href='https://fonts.googleapis.com/icon?family=Material+Icons'\n              ></link>\n              <i class='material-icons'>delete</i>\n            </div>\n          </div>\n        </div>\n      ))}\n\n      <div className='total'>\n        <h3>Total: ₹ {total}</h3>\n        <PaypalButton total={total} tranSuccess={tranSuccess} />\n      </div>\n    </div>\n  )\n}\n\nexport default Cart\n","import React from 'react';\nimport './notfound.css';\n\nfunction NotFound() {\n    return (\n        <>\n            <div class=\"error\">404</div>\n            <br /><br />\n            <span class=\"info\">File not found</span>\n        </>\n    )\n}\n\nexport default NotFound\n","import React, {useState, useContext} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport axios from 'axios'\n\nfunction Categories() {\n    const state = useContext(GlobalState)\n    const [categories] = state.categoriesAPI.categories\n    const [category, setCategory] = useState('')\n    const [token] = state.token\n    const [callback, setCallback] = state.categoriesAPI.callback\n    const [onEdit, setOnEdit] = useState(false)\n    const [id, setID] = useState('')\n\n    const createCategory = async e =>{\n        e.preventDefault()\n        try {\n            if(onEdit){\n                const res = await axios.put(`/api/category/${id}`, {name: category}, {\n                    headers: {Authorization: token}\n                })\n                alert(res.data.msg)\n            }else{\n                const res = await axios.post('/api/category', {name: category}, {\n                    headers: {Authorization: token}\n                })\n                alert(res.data.msg)\n            }\n            setOnEdit(false)\n            setCategory('')\n            setCallback(!callback)\n            \n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const editCategory = async (id, name) =>{\n        setID(id)\n        setCategory(name)\n        setOnEdit(true)\n    }\n\n    const deleteCategory = async id =>{\n        try {\n            const res = await axios.delete(`/api/category/${id}`, {\n                headers: {Authorization: token}\n            })\n            alert(res.data.msg)\n            setCallback(!callback)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"categories\">\n            <form onSubmit={createCategory}>\n                <label htmlFor=\"category\">Category</label>\n                <input type=\"text\" name=\"category\" value={category} required\n                onChange={e => setCategory(e.target.value)} />\n\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\n            </form>\n\n            <div className=\"col\">\n                {\n                    categories.map(category => (\n                        <div className=\"row\" key={category._id}>\n                            <p>{category.name}</p>\n                            <div>\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Categories\n","import React, { useState, useContext, useEffect } from 'react'\nimport axios from 'axios'\nimport { GlobalState } from '../../../GlobalState'\nimport Loading from '../utils/loading/Loading'\nimport { useHistory, useParams } from 'react-router-dom'\n\nconst initialState = {\n  product_id: '',\n  title: '',\n  price: 0,\n  description: '',\n  content: '',\n  category: '',\n  _id: '',\n}\n\nfunction CreateProduct() {\n  const state = useContext(GlobalState)\n  const [product, setProduct] = useState(initialState)\n  const [categories] = state.categoriesAPI.categories\n  const [images, setImages] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  const [isAdmin] = state.userAPI.isAdmin\n  const [token] = state.token\n\n  const history = useHistory()\n  const param = useParams()\n\n  const [products] = state.productsAPI.products\n  const [onEdit, setOnEdit] = useState(false)\n  const [callback, setCallback] = state.productsAPI.callback\n\n  useEffect(() => {\n    if (param.id) {\n      setOnEdit(true)\n      products.forEach((product) => {\n        if (product._id === param.id) {\n          setProduct(product)\n          setImages(product.images)\n        }\n      })\n    } else {\n      setOnEdit(false)\n      setProduct(initialState)\n      setImages(false)\n    }\n  }, [param.id, products])\n\n  const handleUpload = async (e) => {\n    e.preventDefault()\n    try {\n      if (!isAdmin) return alert(\"You're not an admin\")\n      const file = e.target.files[0]\n\n      if (!file) return alert('File not exist.')\n\n      if (file.size > 8024 * 8024)\n        // 1mb\n        return alert('Size too large!')\n\n      if (file.type !== 'image/jpeg' && file.type !== 'image/png')\n        // 1mb\n        return alert('File format is incorrect.')\n\n      let formData = new FormData()\n      formData.append('file', file)\n\n      setLoading(true)\n      const res = await axios.post('/api/upload', formData, {\n        headers: {\n          'content-type': 'multipart/form-data',\n          Authorization: token,\n        },\n      })\n      setLoading(false)\n      setImages(res.data)\n    } catch (err) {\n      alert(err.response.data.msg)\n    }\n  }\n\n  const handleDestroy = async () => {\n    try {\n      if (!isAdmin) return alert(\"You're not an admin\")\n      setLoading(true)\n      await axios.post(\n        '/api/destroy',\n        { public_id: images.public_id },\n        {\n          headers: { Authorization: token },\n        }\n      )\n      setLoading(false)\n      setImages(false)\n    } catch (err) {\n      alert(err.response.data.msg)\n    }\n  }\n\n  const handleChangeInput = (e) => {\n    const { name, value } = e.target\n    setProduct({ ...product, [name]: value })\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      if (!isAdmin) return alert(\"You're not an admin\")\n      if (!images) return alert('No Image Upload')\n\n      if (onEdit) {\n        await axios.put(\n          `/api/products/${product._id}`,\n          { ...product, images },\n          {\n            headers: { Authorization: token },\n          }\n        )\n      } else {\n        await axios.post(\n          '/api/products',\n          { ...product, images },\n          {\n            headers: { Authorization: token },\n          }\n        )\n      }\n      setCallback(!callback)\n      history.push('/')\n    } catch (err) {\n      alert(err.response.data.msg)\n    }\n  }\n\n  const styleUpload = {\n    display: images ? 'block' : 'none',\n  }\n  return (\n    <div className='create_product'>\n      <div className='upload'>\n        <input type='file' name='file' id='file_up' onChange={handleUpload} />\n        {loading ? (\n          <div id='file_img'>\n            <Loading />\n          </div>\n        ) : (\n          <div id='file_img' style={styleUpload}>\n            <img src={images ? images.url : ''} alt='' />\n            <span onClick={handleDestroy}>X</span>\n          </div>\n        )}\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        <div className='row'>\n          <label htmlFor='product_id'>Product ID</label>\n          <input\n            type='text'\n            name='product_id'\n            id='product_id'\n            required\n            value={product.product_id}\n            onChange={handleChangeInput}\n            disabled={onEdit}\n          />\n        </div>\n\n        <div className='row'>\n          <label htmlFor='title'>Title</label>\n          <input\n            type='text'\n            name='title'\n            id='title'\n            required\n            value={product.title}\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className='row'>\n          <label htmlFor='price'>Price</label>\n          <input\n            type='number'\n            name='price'\n            id='price'\n            required\n            value={product.price}\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className='row'>\n          <label htmlFor='description'>Description</label>\n          <textarea\n            type='text'\n            name='description'\n            id='description'\n            required\n            value={product.description}\n            rows='5'\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className='row'>\n          <label htmlFor='content'>Content</label>\n          <textarea\n            type='text'\n            name='content'\n            id='content'\n            required\n            value={product.content}\n            rows='7'\n            onChange={handleChangeInput}\n          />\n        </div>\n\n        <div className='row'>\n          <label htmlFor='categories'>Categories: </label>\n          <select\n            name='category'\n            value={product.category}\n            onChange={handleChangeInput}\n          >\n            <option value=''>Please select a category</option>\n            {categories.map((category) => (\n              <option value={category._id} key={category._id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <button type='submit'>{onEdit ? 'Update' : 'Create'}</button>\n      </form>\n    </div>\n  )\n}\n\nexport default CreateProduct\n","import React, {useContext} from 'react'\nimport {Switch, Route} from 'react-router-dom'\nimport Products from './products/Products'\nimport DetailProduct from './detailProduct/DetailProduct'\nimport Login from './auth/Login'\nimport Register from './auth/Register'\nimport OrderHistory from './history/OrderHistory'\nimport OrderDetails from './history/OrderDetails'\nimport Cart from './cart/Cart'\nimport NotFound from './utils/not_found/NotFound'\nimport Categories from './categories/Categories'\nimport CreateProduct from './createProduct/CreateProduct'\n\nimport {GlobalState} from '../../GlobalState'\n\n\nfunction Pages() {\n    const state = useContext(GlobalState)\n    const [isLogged] = state.userAPI.isLogged\n    const [isAdmin] = state.userAPI.isAdmin\n\n\n    return (\n        <Switch>\n            <Route path=\"/\" exact component={Products} />\n            <Route path=\"/detail/:id\" exact component={DetailProduct} />\n\n            <Route path=\"/login\" exact component={isLogged ? NotFound : Login} />\n            <Route path=\"/register\" exact component={isLogged ? NotFound : Register} />\n\n            <Route path=\"/category\" exact component={isAdmin ? Categories : NotFound} />\n            <Route path=\"/create_product\" exact component={isAdmin ? CreateProduct : NotFound} />\n            <Route path=\"/edit_product/:id\" exact component={isAdmin ? CreateProduct : NotFound} />\n\n            <Route path=\"/history\" exact component={isLogged ? OrderHistory : NotFound} />\n            <Route path=\"/history/:id\" exact component={isLogged ? OrderDetails : NotFound} />\n\n            <Route path=\"/cart\" exact component={Cart} />\n\n\n            <Route path=\"*\" exact component={NotFound} />\n        </Switch>\n    )\n}\n\nexport default Pages\n","import React from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {DataProvider} from './GlobalState'\nimport Header from './components/headers/Header'\nimport MainPages from './components/mainpages/Pages'\n\n\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n        <div className=\"App\">\n          <Header />\n          <MainPages />\n        </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}